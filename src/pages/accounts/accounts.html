<ion-header>
  <ion-navbar>
  </ion-navbar>
  <ion-toolbar color="secondary" hide-on-scroll="true">
    <ion-title>Accounts</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  
  <div *ngIf="userLoggedIn==false">
    <ion-card>
      <ion-item text-wrap>
        <div>
          <p>Oops, something went wrong. You're not logged in, please restart the app and try to login again.</p>
        </div>
      </ion-item>
    </ion-card>
  </div>

  <div *ngIf="userLoggedIn==true">

    <!--Hello Card-->
    <ion-card>
      <button ion-item detail-push *ngFor="let userinfo of userinfos" (click)="loadUserSettingsDetails($event, userinfo)">
        <div>
          <h4 class="account-name">Hello, {{userinfo.first_name}}</h4>
        </div>
        <!--<ion-icon name="person" item-left></ion-icon>-->
      </button>
    </ion-card>
    
    <!--HSA Card Area-->
    <ion-card *ngIf="(userHasHsa == true)">
      <ion-card-header color="primary">
        <ion-icon item-left name="paper"></ion-icon> Health Service Accounts
      </ion-card-header>
      <button ion-item detail-push *ngFor="let userhsa of userhsas" (click)="loadHsaAccountDetails($event, accountType)">
        <div>
          <h3 class="account-header" *ngIf="(userhsa?.account_type=='HSA')">Health Spending Account</h3>
          <h4 class="account-number">Account#: {{userhsa.account_number}}</h4>
        </div>
      </button>
    </ion-card>

    <!--No HSA-->
    <ion-card *ngIf="(userHasHsa == false)">
      <ion-card-header color="primary">
        <ion-icon item-left name="paper"></ion-icon> No HSA Accounts Found
      </ion-card-header>
      <button ion-item detail-push *ngFor="let userinfo of userinfos" (click)="loadAddHsa($event, userinfo)">
        <div>
          <h4 class="account-number">Tap here to add an HSA</h4>
        </div>
      </button>
    </ion-card>

    <!--FSA Card Area-->
    <ion-card *ngIf="(userHasFsa == true)">
      <ion-card-header color="primary">
        <ion-icon item-left name="paper"></ion-icon> Flexible Service Accounts
      </ion-card-header>
      <button ion-item detail-push *ngFor="let userfsa of userfsas" (click)="loadFsaAccountDetails($event, accountType)">
        <div>
          <h3 class="account-header" *ngIf="(userfsa?.account_type=='FSA')">Flexible Spending Account</h3>
          <h4 class="account-number">Account#: {{userfsa.account_number}}</h4>
        </div>
      </button>
    </ion-card>

    <!--No FSA-->
    <ion-card *ngIf="(userHasFsa == false)">
      <ion-card-header color="primary">
        <ion-icon item-left name="paper"></ion-icon> No FSA Accounts Found
      </ion-card-header>
      <button ion-item detail-push *ngFor="let userinfo of userinfos" (click)="loadAddFsa($event, userinfo)">
        <div>
          <h4 class="account-number">Tap here to add an FSA</h4>
        </div>
      </button>
    </ion-card>

     <!--Support Card Area-->
    <ion-card>
      <ion-card-header color="primary">
        <ion-icon item-left name="call"></ion-icon> Support
      </ion-card-header>
      <button ion-item detail-push (click)="loadHelpPage()">
        <div>
          <h4 class="account-support">Tap here for general help</h4>
        </div>
      </button>
      <button ion-item detail-push (click)="loadTaxHelpPage()">
        <div>
          <h4 class="account-support">Tap here for tax help</h4>
        </div>
      </button>
    </ion-card>

    <ion-card>
      <ion-card-header color="primary">
        <ion-icon item-left name="information-circle"></ion-icon> About
      </ion-card-header>
      <button ion-item detail-push (click)="loadAboutPage()">
        <div>
          <h4 class="account-support">Tap here for more info about this app</h4>
        </div>
      </button>
    </ion-card>

    <div padding>
     <button block ion-button (click)="logoutTest()">Logout</button>
    </div>
  </div> 

  <!--Return to login page-->
  <!--
    <button ion-button (click)="loginTest()">Debug Login Back</button>
  -->
  <!--<button ion-button (click)="logoutTest()">Logout</button>-->
  <!--<button ion-button (click)="receiptForm()">Debug Receipt From</button>-->
</ion-content>
